<!DOCTYPE HTML>
<html>
  <head>
	<style>
	body {
	margin: 0;
	padding: 0;
	background-color: #000000;
	}
	</style>
	<script src="pixi.js"></script>
  </head>
  <body>
	<script>
	  var renderer = PIXI.autoDetectRenderer(800, 600, {backgroundColor: 0x1099bb});
	  document.body.appendChild(renderer.view);

	  var stage = new PIXI.Container();
	  var texture = PIXI.Texture.fromImage('bubble.png');
	  var count = 1;
	  var score = new PIXI.Text('SCORE: 0', { font: 'bold italic 60px Arvo', fill: '#3e1707', align: 'center', stroke: '#a4410e', strokeThickness: 7 });

	  score.position.x = 400;
	  score.position.y = 500;
	  score.anchor.x = 0.5;
	  stage.addChild(score);

	  for (var i = 0; i < 10; i++)
	  {
		  createBubble(Math.floor(Math.random() * 800) , Math.floor(Math.random() * 600));
	  }

	  function createBubble(x, y)
	  {
		  var container =  new PIXI.Container();
		  var bubble = new PIXI.Sprite(texture);
		  var tweet = new PIXI.Text('Tweet', { font: 'bold italic 20px Arvo', fill: '#FFFFFF', align: 'center', stroke: '#000000', strokeThickness: 7 });
		  bubble.interactive = true;
		  bubble.buttonMode = true;

		  bubble.anchor.set(0.5);
		  bubble.scale.set(0.5);

		  bubble.on('click', onClick);

		  bubble.position.x = x;
		  bubble.position.y = y;
		  container.addChild(bubble);
		  bubble.addChild(tweet);
		  stage.addChild(container);
	  }

	  function onClick(event)
	  {
	  	this.data = event.data;
		this.visible = 0;
		this.visible = 0;
		console.log(this);

		score.text = 'SCORE: ' + count++;
	  }
	  animate();

	  function animate() {

	  requestAnimationFrame( animate );
	  renderer.render(stage);
	  }
	</script>
  </body>
</html>
